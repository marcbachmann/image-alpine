#!/sbin/openrc-run
# Copyright (c) 2017 Marc Bachmann <marc.brookman@gmail.com>
# Released under the MIT license.

description="fluent-bit docker container log forwarder"
pidfile="/run/${RC_SVCNAME}.pid"
command="/usr/bin/env"
command_args="HOST_IP=${HOST_IP} HOST_NAME=${HOST_NAME} /usr/bin/fluent-bit -q -c /etc/fluent-bit/containers.conf"
start_stop_daemon_args="--stdout /var/log/docker_containers --stderr /var/log/docker_containers"
command_background="true"

depend() {
    need net root
    before docker
}
